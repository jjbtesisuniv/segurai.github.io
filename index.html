<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SegurAI — Presentación de Negocio con IA</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --dark-blue:#010A20;
  --sidebar-blue:#031535;
  --accent-blue:#00bfff;
  --highlight-blue:#00d5ff;
  --text:#e6eef6;
  --card:#03183d;
  --radius:12px;
  --btn-back:#ff004c;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
}
*{box-sizing:border-box}
body{margin:0;background:var(--dark-blue);color:var(--text);height:100vh;display:flex;overflow:hidden}

/* HERO */
.hero{
  position:fixed;inset:0;
  background:linear-gradient(135deg,#010714 0%,#031535 100%);
  display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;text-align:center;padding:24px;z-index:1000;
}
.hero img.logo{width:150px;max-width:40vw}
.hero h1{font-size:2.8rem;margin:0;color:var(--highlight-blue);font-weight:900;text-shadow:0 0 14px rgba(0,191,255,0.25)}
.hero p{max-width:900px;margin:0;font-size:1.05rem;color:rgba(255,255,255,0.9)}

/* Hero buttons big stylized */
.hero-controls{display:flex;gap:16px;flex-wrap:wrap;justify-content:center;margin-top:16px}
.btn{
  border:0;padding:14px 28px;border-radius:12px;font-weight:800;font-size:1rem;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.45);
  transition:transform .18s ease,box-shadow .18s ease;
}
.btn:active{transform:translateY(1px)}
.btn-explorar{background:linear-gradient(45deg,#00bfff,#00ffbf);color:#011;box-shadow:0 10px 30px rgba(0,191,255,0.18)}
.btn-boceto{background:linear-gradient(45deg,#ff7a7a,#ffc371);color:#051}
.btn-story{background:linear-gradient(45deg,#ff9a00,#ff0055);color:#fff}
.btn-proto{background:linear-gradient(45deg,#6a9bff,#9bf0ff);color:#011}
.hero .preview-img{margin-top:26px;max-width:420px;border-radius:12px;box-shadow:0 8px 30px rgba(0,191,255,0.18)}

/* SIDEBAR */
.sidebar{
  width:260px; background:var(--sidebar-blue); position:fixed; left:0; top:0; bottom:0; padding-top:28px;
  display:flex;flex-direction:column;gap:6px;padding-left:18px;box-shadow:4px 0 18px rgba(0,0,0,0.5); z-index:900;
}
.sidebar h2{color:var(--highlight-blue);margin:0 0 12px 6px;font-weight:900}
.sidebar a{color:var(--text); text-decoration:none;padding:10px 18px;border-left:5px solid transparent;display:flex;align-items:center;gap:10px;border-radius:6px;margin-right:12px}
.sidebar a:hover{background:rgba(0,191,255,0.06);color:var(--highlight-blue)}
.sidebar a.active{background:rgba(0,191,255,0.12);border-left-color:var(--highlight-blue);color:var(--highlight-blue)}

/* CONTENT */
.main{margin-left:260px;padding:32px;height:100vh;overflow:auto}
.section{display:none;opacity:0;transform:translateY(20px);transition:all .5s ease;padding-bottom:40px;min-height:calc(100vh - 80px)}
.section.active{display:block;opacity:1;transform:none}
.card{background:var(--card);padding:18px;border-radius:12px;border-left:5px solid var(--accent-blue);box-shadow:0 8px 24px rgba(0,0,0,0.45);margin-bottom:18px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:16px}

/* BACK BUTTON */
.btn-back{
  display:inline-flex;align-items:center;gap:10px;background:var(--btn-back);color:#fff;padding:10px 16px;border-radius:12px;border:0;font-weight:700;cursor:pointer;box-shadow:0 8px 20px rgba(255,0,76,0.18);
}
.btn-back i{transform:translateX(-2px)}

/* DEMO VIDEO */
.video-wrap{max-width:900px;margin:18px auto;border-radius:12px;overflow:hidden;box-shadow:0 12px 40px rgba(0,0,0,0.6)}
.video-wrap video{width:100%;height:auto;display:block;background:#000}

/* MODALS (Boceto, Story, Prototipo) */
.modal{
  position:fixed;inset:0;background:rgba(0,0,0,0.95);display:none;align-items:center;justify-content:center;padding:28px;z-index:2000;overflow:auto
}
.modal .box{max-width:1100px;width:100%;background:linear-gradient(180deg,rgba(2,6,23,0.95),rgba(8,12,26,0.96));padding:26px;border-radius:14px;box-shadow:0 30px 80px rgba(0,0,0,0.7)}
.modal h2{margin:0 0 12px 0;color:var(--highlight-blue)}
.modal .close{float:right;border:0;background:transparent;color:var(--text);font-size:20px;cursor:pointer}
.modal .content-row{display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap}
.modal img{max-width:420px;border-radius:10px;box-shadow:0 18px 40px rgba(0,0,0,0.6)}
.modal .mock{flex:1;min-width:260px;padding:12px;background:rgba(255,255,255,0.02);border-radius:8px}

/* Timeline story */
.timeline{position:relative;margin:20px auto;max-width:760px;padding:20px 10px}
.timeline::before{content:'';position:absolute;left:50%;top:10px;bottom:10px;width:4px;background:linear-gradient(180deg,var(--highlight-blue),#00aaff);transform:translateX(-50%)}
.step{position:relative;width:50%;padding:18px;border-radius:10px;background:rgba(0,191,255,0.06);opacity:0;transform:translateX(-30px) scale(.95);transition:all .45s ease;margin-bottom:24px}
.step.right{left:50%;transform:translateX(30px) scale(.95)}
.step.left{left:0}
.step.active{opacity:1;transform:translateX(0) scale(1);box-shadow:0 10px 30px rgba(0,191,255,0.12);border:1px solid rgba(0,213,255,0.2)}
.step i{display:block;font-size:1.4rem;color:var(--highlight-blue);margin-bottom:8px}
.timeline-controls{display:flex;justify-content:center;gap:10px;margin-top:10px}
.timeline-controls button{padding:8px 14px;border-radius:10px;border:0;background:var(--highlight-blue);color:#001;font-weight:800;cursor:pointer}

/* SEQUENCE / CAROUSEL (Prototype) */
.proto-viewer{display:flex;flex-direction:column;align-items:center;gap:12px}
.proto-img{max-width:640px;width:100%;border-radius:10px;box-shadow:0 18px 40px rgba(0,0,0,0.6);background:#000}
.proto-controls{display:flex;gap:10px;align-items:center}
.proto-controls button{padding:8px 12px;border-radius:8px;border:0;background:var(--highlight-blue);color:#001;font-weight:800;cursor:pointer}

/* small helper text */
.helper { font-size:0.95rem;color:rgba(255,255,255,0.8);margin-top:8px; }

/* RESPONSIVE */
@media (max-width:900px){
  .grid2{grid-template-columns:1fr}
  .step,.step.right{width:90%;left:5%;transform:none}
  .modal .content-row{flex-direction:column}
  .sidebar{display:none}
  .main{margin-left:0}
  .proto-img{max-width:90%}
}
</style>
</head>
<body>

  <!-- HERO -->
  <div class="hero" id="hero">
    <img class="logo" src="img/logo.png" alt="SegurAI Logo">
    <h1>SegurAI — Seguridad Preventiva con IA</h1>
    <p><strong>Innovación tecnológica y protección en entornos urbanos y empresariales.</strong><br>
      Integramos inteligencia artificial, reconocimiento facial y alertas en tiempo real para anticipar riesgos y proteger personas y activos.</p>

    <div class="hero-controls" style="margin-top:20px">
      <button class="btn btn-explorar" onclick="abrirHero(false)"><i class="fas fa-arrow-right"></i>&nbsp;Explorar Presentación</button>
      <button class="btn btn-boceto" id="btnBoceto" onclick="abrirBoceto()"><i class="fas fa-pencil-ruler"></i>&nbsp;Ver Boceto</button>
      <button class="btn btn-story" id="btnStory" onclick="abrirStory()"><i class="fas fa-book-open"></i>&nbsp;StoryTheme</button>
      <button class="btn btn-proto" id="btnProto" onclick="abrirProto()"><i class="fas fa-stream"></i>&nbsp;Ver Protótipo (secuencia)</button>
    </div>

    <img class="preview-img" src="img/reconocimiento_facial.png" alt="Reconocimiento facial demo">
  </div>

  <!-- SIDEBAR -->
  <nav class="sidebar" id="sidebar" style="display:none">
    <h2>SegurAI</h2>
    <a href="#" onclick="abrirSeccion('mision',this)" class="active"><i class="fas fa-handshake"></i>Misión y Visión</a>
    <a href="#" onclick="abrirSeccion('modelo',this)"><i class="fas fa-chart-line"></i>Modelo de Negocio</a>
    <a href="#" onclick="abrirSeccion('pestel',this)"><i class="fas fa-globe-americas"></i>PESTEL</a>
    <a href="#" onclick="abrirSeccion('porter',this)"><i class="fas fa-sitemap"></i>5 Fuerzas Porter</a>
    <a href="#" onclick="abrirSeccion('foda',this)"><i class="fas fa-balance-scale"></i>FODA</a>
    <a href="#" onclick="abrirSeccion('demo',this)"><i class="fas fa-video"></i>Demo Funcional</a>
    <a href="#" onclick="abrirSeccion('equipo',this)"><i class="fas fa-users"></i>Equipo</a>
    <a href="#" onclick="abrirSeccion('plan',this)"><i class="fas fa-tasks"></i>Plan Operativo</a>
  </nav>

  <!-- MAIN -->
  <main class="main" id="main" style="display:none">

    <!-- MISIÓN (ahora dentro de Explorar Presentación) -->
    <section id="mision" class="section active">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Misión y Visión</h2>
      <div class="card">
        <div class="grid2">
          <div>
            <h3>MISIÓN</h3>
            <p>Brindar soluciones de seguridad preventiva basadas en IA que protejan personas y activos, priorizando transparencia y cumplimiento legal en el manejo de datos.</p>
            <ul>
              <li>Detección temprana de incidentes</li>
              <li>Alertas en tiempo real a equipos de respuesta</li>
              <li>Reportes analíticos para toma de decisiones</li>
            </ul>
          </div>
          <div>
            <h3>VISIÓN</h3>
            <p>Ser líderes en Latinoamérica en tecnologías de prevención, con soluciones accesibles para municipalidades y PYMES.</p>
            <ul>
              <li>Expansión a ciudades piloto</li>
              <li>Alianzas público–privadas</li>
              <li>Énfasis en protección de datos</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- MODELO -->
    <section id="modelo" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Modelo de Negocio (Canvas)</h2>
      <div class="card">
        <p>SegurAI entrega 'seguridad inteligente como servicio' (hardware + software + legal) y modelos de suscripción para municipalidades, empresas y PYMES.</p>
        <div class="grid2" style="margin-top:12px">
          <div class="card"><strong>Propuesta</strong><p>Reconocimiento facial ético, alertas automáticas, dashboard de control y asesoría legal.</p></div>
          <div class="card"><strong>Ingresos</strong><p>Venta de equipos, suscripción SaaS y servicios profesionales (capacitación y consultoría).</p></div>
        </div>
      </div>
    </section>

    <!-- PESTEL -->
    <section id="pestel" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Análisis PESTEL</h2>
      <div class="card grid2">
        <div class="card"><strong>Político / Legal</strong><p>Regulación, licitaciones y cumplimiento de la Ley de Protección de Datos.</p></div>
        <div class="card"><strong>Económico / Social</strong><p>Limitaciones presupuestarias en municipios y sensibilidad social a biometría.</p></div>
      </div>
    </section>

    <!-- PORTER -->
    <section id="porter" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>5 Fuerzas de Porter</h2>
      <div class="card">
        <p>Rivalidad media, clientes poderosos (municipios), dependencia moderada de proveedores de hardware y riesgo de sustitutos tradicionales.</p>
      </div>
    </section>

    <!-- FODA -->
    <section id="foda" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Análisis FODA</h2>
      <div class="card grid2">
        <div class="card"><strong>Fortalezas</strong><p>IA optimizada, equipo multidisciplinario.</p></div>
        <div class="card"><strong>Oportunidades</strong><p>Mercado en crecimiento en LatAm.</p></div>
      </div>
    </section>

    <!-- DEMO -->
    <section id="demo" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Demo Funcional</h2>
      <div class="card">
        <p>Video de demostración: ejemplo de flujo (detección → alerta → visualización en dashboard).</p>
        <div class="video-wrap">
          <!-- Ruta organizada: videos/demo.mp4 -->
          <video controls poster="img/reconocimiento_facial.png">
            <source src="videos/demo.mp4" type="video/mp4">
            Tu navegador no soporta video.
          </video>
        </div>
      </div>
    </section>

    <!-- EQUIPO -->
    <section id="equipo" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Responsables principales</h2>
      <div class="card">
        <ul>
          <li><strong>CEO (Carlos Manuel):</strong> coordinación general.</li>
          <li><strong>KYM (Jesús Rodríguez):</strong> coordinación alianzas estratégicas.</li>
          <li><strong>CTO (José Moreno):</strong> desarrollo técnico y validación del algoritmo.</li>
          <li><strong>Jefa de operaciones (Anaceli Samamé):</strong> logística y soporte en campo.</li>
          <li><strong>Marketing (Luis Salazar):</strong> difusión, campañas y gestión de usuarios piloto.</li>
        </ul>
      </div>
    </section>

    <!-- PLAN -->
    <section id="plan" class="section">
      <button class="btn-back" onclick="volverHero()"><i class="fas fa-arrow-left"></i> Volver</button>
      <h2>Plan Operativo</h2>
      <div class="card">
        <p>Fases: MVP (3 meses) → Pilotos (3-6 meses) → Escala (6-18 meses). Necesidad de capital inicial y acuerdos con municipalidades para pilotos.</p>
      </div>
    </section>

  </main>

  <!-- MODAL: BOCETO -->
  <div id="modal-boceto" class="modal" role="dialog" aria-hidden="true">
    <div class="box">
      <button class="close" onclick="cerrarBoceto()"><i class="fas fa-times"></i></button>
      <h2>Boceto / Mockup de Interfaz</h2>
      <div class="content-row">
        <img src="img/boceto.png" alt="Boceto SegurAI (ejemplo)">
        <div class="mock">
          <h3>Mockup rápido</h3>
          <p>Ejemplo: dashboard principal que muestra cámaras en vivo, mapa con incidentes y panel de alertas.</p>
          <ul>
            <li><strong>Top-left:</strong> feeds de cámaras (miniaturas)</li>
            <li><strong>Centro:</strong> mapa con pins y nivel de riesgo</li>
            <li><strong>Panel derecho:</strong> alertas recientes y acciones sugeridas</li>
          </ul>
          <p style="margin-top:12px;font-weight:700;color:var(--highlight-blue)">Prueba: reemplaza img/boceto.png con tu boceto real.</p>
        </div>
      </div>
      <div style="text-align:right;margin-top:14px">
        <button class="btn-back" onclick="cerrarBoceto()"><i class="fas fa-times"></i> Cerrar boceto</button>
      </div>
    </div>
  </div>

  <!-- MODAL: STORY THEME (TIMELINE INTERACTIVO) -->
  <div id="modal-story" class="modal" role="dialog" aria-hidden="true">
    <div class="box">
      <button class="close" onclick="cerrarStory()"><i class="fas fa-times"></i></button>
      <h2>StoryTheme Interactivo — Flujo de funcionamiento</h2>

      <div class="content-row" style="justify-content:center">
        <div style="flex:1;min-width:320px">
          <div class="timeline" id="timeline">
            <div class="step left active" data-step="0"><i class="fas fa-video"></i><strong>Captura</strong><p>Las cámaras registran video en tiempo real con procesamiento en el edge.</p></div>
            <div class="step right" data-step="1"><i class="fas fa-brain"></i><strong>Procesamiento IA</strong><p>Modelos detectan patrones: conducta anómala, personas en lista y objetos sospechosos.</p></div>
            <div class="step left" data-step="2"><i class="fas fa-bell"></i><strong>Alerta</strong><p>Si se detecta riesgo, se genera una alerta en la app y en la central de monitoreo.</p></div>
            <div class="step right" data-step="3"><i class="fas fa-user-shield"></i><strong>Intervención</strong><p>Equipos en campo o autoridades reciben ubicación y evidencia para actuar.</p></div>
            <div class="step left" data-step="4"><i class="fas fa-chart-line"></i><strong>Analítica</strong><p>El sistema genera reportes y métricas para mejorar prevención y tomar decisiones estratégicas.</p></div>
          </div>

          <div class="timeline-controls" style="margin-top:18px">
            <button onclick="prevTimeline()">Anterior</button>
            <button onclick="nextTimeline()">Siguiente</button>
            <button id="autoplayBtn" onclick="toggleAutoplay()" style="background:#00bfff;color:#001;border:0;padding:8px 12px;border-radius:8px;font-weight:700;cursor:pointer">Auto</button>
          </div>
        </div>

        <div style="width:360px;min-width:260px">
          <div class="mock">
            <h3>Vista previa</h3>
            <p id="previewText" style="color:rgba(255,255,255,0.9)">Paso 1 — Captura: cámaras y edge processing</p>
            <div style="height:12px"></div>
            <img id="previewImg" src="img/reconocimiento_facial.png" alt="preview" style="width:100%;border-radius:8px;object-fit:cover">
          </div>
        </div>

      </div>

      <div style="text-align:right;margin-top:14px">
        <button class="btn-back" onclick="cerrarStory()"><i class="fas fa-times"></i> Cerrar Story</button>
      </div>
    </div>
  </div>

  <!-- MODAL: PROTOTIPO SECUENCIAL (GIFs / IMÁGENES) -->
  <div id="modal-proto" class="modal" role="dialog" aria-hidden="true">
    <div class="box">
      <button class="close" onclick="cerrarProto()"><i class="fas fa-times"></i></button>
      <h2>Protótipo secuencial — Cómo funciona SegurAI (GIF / imágenes)</h2>

      <div class="content-row">
        <div class="proto-viewer">
          <!-- imagen principal (GIF o PNG) -->
          <div class="proto-img" id="protoImgWrapper">
            <img id="protoImg" src="img/proto1.gif" alt="Paso 1" style="width:100%;border-radius:8px;display:block">
          </div>

          <!-- controles -->
          <div class="proto-controls">
            <button onclick="prevProto()"><i class="fas fa-chevron-left"></i> Anterior</button>
            <button onclick="nextProto()">Siguiente <i class="fas fa-chevron-right"></i></button>
            <button id="protoAutoBtn" onclick="toggleProtoAuto()" style="background:#00bfff;color:#001;border:0;padding:8px 10px;border-radius:8px;font-weight:700;cursor:pointer">Auto</button>
          </div>

          <div class="helper" id="protoCaption">Paso 1 — Captura: cámara, preprocesamiento en edge.</div>
        </div>

        <div style="min-width:260px;max-width:340px">
          <div class="mock">
            <h3>Sugerencias de contenido visual</h3>
            <p class="helper">Para la secuencia puedes usar:</p>
            <ul>
              <li><strong>GIFs cortos</strong> (2–5s) mostrando detección en acción — quedan fluidos y explicativos.</li>
              <li><strong>Screencasts / screen recordings</strong> (MP4 o GIF) del dashboard con alertas reales.</li>
              <li><strong>PNG/JPEG anotados</strong> (flechas y etiquetas) — útiles para resaltar pasos.</li>
              <li><strong>SVGs animados</strong> (si quieres vectores limpios y escalables).</li>
            </ul>
            <p class="helper" style="margin-top:8px"><strong>Ejemplo de secuencia recomendada:</strong></p>
            <ol>
              <li>Captura (cámara → edge)</li>
              <li>Procesamiento IA (detección)</li>
              <li>Generación de alerta</li>
              <li>Envío a central / intervención</li>
              <li>Reporte y analítica</li>
            </ol>
            <p class="helper" style="margin-top:8px;color:var(--highlight-blue)">Reemplaza <code>img/proto1.gif</code> ... <code>img/proto5.gif</code> por tus archivos reales.</p>
          </div>
        </div>
      </div>

      <div style="text-align:right;margin-top:14px">
        <button class="btn-back" onclick="cerrarProto()"><i class="fas fa-times"></i> Cerrar prototipo</button>
      </div>
    </div>
  </div>

<script>
/* NAV / HERO */
function abrirHero(hideHero=true){
  const hero = document.getElementById('hero');
  const sidebar = document.getElementById('sidebar');
  const main = document.getElementById('main');
  hero.style.opacity='0';
  setTimeout(()=>{ hero.style.display='none'; sidebar.style.display='flex'; main.style.display='block'; },220);
}
function abrirSeccion(id,el){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  const sec = document.getElementById(id);
  if(sec) sec.classList.add('active');
  // mark active link
  document.querySelectorAll('.sidebar a').forEach(a=>a.classList.remove('active'));
  if(el) el.classList.add('active');
  // scroll top
  document.querySelector('.main').scrollTop = 0;
}
function volverHero(){
  document.getElementById('sidebar').style.display='none';
  document.getElementById('main').style.display='none';
  document.getElementById('hero').style.display='flex';
  setTimeout(()=>document.getElementById('hero').style.opacity='1',60);
  // stop modals if open
  cerrarStory(); cerrarBoceto(); cerrarProto();
}

/* BOCETO modal */
function abrirBoceto(){ document.getElementById('modal-boceto').style.display='flex'; }
function cerrarBoceto(){ document.getElementById('modal-boceto').style.display='none'; }

/* STORY modal with timeline */
let currentStep = 0;
let autoplay = false;
let autoplayInterval = null;
const steps = () => Array.from(document.querySelectorAll('#timeline .step'));
const previewText = id => {
  const texts = [
    'Captura — Las cámaras registran video en tiempo real con procesamiento en el edge.',
    'Procesamiento IA — Modelos detectan patrones y anomalías.',
    'Alerta — El sistema genera alertas inmediatas a central y app.',
    'Intervención — Equipos en campo reciben información precisa para actuar.',
    'Analítica — Reportes y métricas para mejora continua y decisiones.'
  ];
  return texts[id] || '';
};

function abrirStory(){
  document.getElementById('modal-story').style.display='flex';
  currentStep = 0;
  updateTimeline();
  startAutoplayIfSet();
}

function cerrarStory(){
  document.getElementById('modal-story').style.display='none';
  stopAutoplay();
}

// timeline navigation
function updateTimeline(){
  const s = steps();
  s.forEach((el,i)=>{
    el.classList.remove('active');
    if(i===currentStep) el.classList.add('active');
  });
  // update preview
  const pText = previewText(currentStep);
  document.getElementById('previewText').textContent = pText;
  // change preview image lightly for each step (example — reuse same or add images)
  const imgs = ['img/reconocimiento_facial.png','img/reconocimiento_facial.png','img/reconocimiento_facial.png','img/reconocimiento_facial.png','img/reconocimiento_facial.png'];
  document.getElementById('previewImg').src = imgs[currentStep] || imgs[0];
}

function nextTimeline(){
  const s = steps();
  if(currentStep < s.length - 1) currentStep++;
  updateTimeline();
}
function prevTimeline(){
  if(currentStep > 0) currentStep--;
  updateTimeline();
}

/* autoplay */
function toggleAutoplay(){
  autoplay = !autoplay;
  const btn = document.getElementById('autoplayBtn');
  if(autoplay){ btn.textContent='Auto: ON'; btn.style.background='#00ffb3'; startAutoplay(); }
  else{ btn.textContent='Auto: OFF'; btn.style.background=''; stopAutoplay(); }
}
function startAutoplay(){
  stopAutoplay();
  autoplayInterval = setInterval(()=>{
    if(currentStep < steps().length - 1){ currentStep++; updateTimeline(); }
    else { currentStep = 0; updateTimeline(); }
  },1400);
}
function stopAutoplay(){ if(autoplayInterval){ clearInterval(autoplayInterval); autoplayInterval = null; } }

/* PROTOTYPE modal: carousel of GIFs/images */
const protoImages = [
  { src: 'img/proto1.gif', caption: 'Paso 1 — Captura: cámara y preprocesamiento en edge.' },
  { src: 'img/proto2.gif', caption: 'Paso 2 — Procesamiento IA: detección y clasificación.' },
  { src: 'img/proto3.gif', caption: 'Paso 3 — Generación de alerta y envío a central.' },
  { src: 'img/proto4.gif', caption: 'Paso 4 — Visualización en dashboard y notificación a equipo.' },
  { src: 'img/proto5.gif', caption: 'Paso 5 — Analítica: reportes y métricas.' }
];
let protoIndex = 0;
let protoAuto = false;
let protoInterval = null;

function abrirProto(){
  document.getElementById('modal-proto').style.display='flex';
  protoIndex = 0;
  showProto(protoIndex);
  startProtoAutoplayIfSet();
}
function cerrarProto(){
  document.getElementById('modal-proto').style.display='none';
  stopProtoAutoplay();
}
function showProto(i){
  const el = document.getElementById('protoImg');
  const caption = document.getElementById('protoCaption');
  const safe = protoImages[i] || protoImages[0];
  el.src = safe.src;
  caption.textContent = safe.caption;
}
function nextProto(){ protoIndex = (protoIndex + 1) % protoImages.length; showProto(protoIndex); }
function prevProto(){ protoIndex = (protoIndex - 1 + protoImages.length) % protoImages.length; showProto(protoIndex); }

function toggleProtoAuto(){
  protoAuto = !protoAuto;
  const btn = document.getElementById('protoAutoBtn');
  if(protoAuto){ btn.textContent = 'Auto: ON'; btn.style.background = '#00ffb3'; startProtoAutoplay(); }
  else { btn.textContent = 'Auto'; btn.style.background = ''; stopProtoAutoplay(); }
}
function startProtoAutoplay(){
  stopProtoAutoplay();
  protoInterval = setInterval(()=>{ nextProto(); }, 1600);
}
function stopProtoAutoplay(){ if(protoInterval){ clearInterval(protoInterval); protoInterval = null; } }
function startProtoAutoplayIfSet(){ if(protoAuto) startProtoAutoplay(); }

/* keyboard: Esc -> close modals */
document.addEventListener('keydown', e=>{
  if(e.key === 'Escape'){ cerrarStory(); cerrarBoceto(); cerrarProto(); }
});
</script>

</body>
</html>














